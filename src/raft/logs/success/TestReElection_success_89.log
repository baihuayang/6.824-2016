Test: election after network failure ...
server 1 term 0 not receive hb
server 1 term 1 votefor wait 190ms time
server 1 send vote request to server 2
server 1 send vote request to server 0
server 1 send vote request to server 1
[get vote success] server 1 request with LastLogIndex = -1
[back to follower] server 2
[get vote success] server 1 request with LastLogIndex = -1
[get vote success] server 1 request with LastLogIndex = -1
[back to follower] server 0
OK1?????? from server 1 to server 2 : true
server 1 send vote request to server 2 done
<sendRequestVote Successed> took 2.005338ms
server 1 get vote from server 2 with rf.term = 1, reply.term = 0
server 1 votenum = 1
OK1?????? from server 1 to server 1 : true
server 1 send vote request to server 1 done
<sendRequestVote Successed> took 1.602618ms
server 1 get vote from server 1 with rf.term = 1, reply.term = 1
server 1 votenum = 2
server 1 term 1 become leader with vote num = 2
OK1?????? from server 1 to server 0 : true
server 1 send vote request to server 0 done
<sendRequestVote Successed> took 2.191888ms
server 1 get vote from server 0 with rf.term = 1, reply.term = 0
server 1 votenum = 3
server 1 term 1 become leader with vote num = 3
first heartBeat to 2
server 1 term 1 send hb to server 2 and rf.status = 2
first heartBeat to 0
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 2 term 1 receive hb
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.242586ms
server 1 term 1 send hb to server 0 done
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.321513ms
server 1 term 1 send hb to server 2 done
server 1 term 1 send hb to server 0 and rf.status = 2
server 1 term 1 send hb to server 2 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.800704ms
server 1 term 1 send hb to server 0 done
server 0 term 1 receive hb
server 2 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 2.071498ms
server 1 term 1 send hb to server 2 done
server 1 term 1 send hb to server 0 and rf.status = 2
server 1 term 1 send hb to server 2 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 800.66µs
server 1 term 1 send hb to server 0 done
server 0 term 1 receive hb
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
server 2 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.583797ms
server 1 term 1 send hb to server 2 done
server 1 term 1 send hb to server 2 and rf.status = 2
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
server 2 term 1 receive hb
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.281894ms
server 1 term 1 send hb to server 2 done
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.508788ms
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 2 and rf.status = 2
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
server 2 term 1 receive hb
server 0 become a follower
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 736.945µs
server 1 term 1 send hb to server 2 done
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 673.079µs
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 2 and rf.status = 2
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 2 term 1 receive hb
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 805.877µs
server 1 term 1 send hb to server 2 done
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 732.267µs
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 2 and rf.status = 2
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
server 2 term 1 receive hb
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 482.738µs
server 1 term 1 send hb to server 0 done
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 573.115µs
server 1 term 1 send hb to server 2 done
server 1 term 1 send hb to server 2 and rf.status = 2
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
server 2 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 958.024µs
server 1 term 1 send hb to server 2 done
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.006009ms
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 2 and rf.status = 2
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
server 2 term 1 receive hb
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 764.419µs
server 1 term 1 send hb to server 2 done
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 921.921µs
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 0 and rf.status = 2
server 1 term 1 send hb to server 2 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat: server 2 term 1 receive hb] chan sending
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.02486ms
server 2 term 1 receive hb
server 1 term 1 send hb to server 0 done
server 2 become a follower
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.403477ms
server 1 term 1 send hb to server 2 done
server 1 term 1 send hb to server 2 and rf.status = 2
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.239134ms
server 1 term 1 send hb to server 2 done
server 2 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.233743ms
server 1 term 1 send hb to server 0 done
server 0 term 1 receive hb
server 1 term 1 send hb to server 2 and rf.status = 2
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
server 0 term 1 receive hb
server 2 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.005901ms
server 1 term 1 send hb to server 0 done
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.227523ms
server 1 term 1 send hb to server 2 done
server 1 term 1 send hb to server 2 and rf.status = 2
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.217129ms
server 2 term 1 receive hb
server 0 term 1 receive hb
server 1 term 1 send hb to server 2 done
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.045587ms
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 0 and rf.status = 2
server 1 term 1 send hb to server 2 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat: server 2 term 1 receive hb] chan sending
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 952.436µs
server 1 term 1 send hb to server 0 done
server 2 become a follower
server 2 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.185348ms
server 1 term 1 send hb to server 2 done
server 1 term 1 send hb to server 2 and rf.status = 2
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
server 2 term 1 receive hb
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.164545ms
server 1 term 1 send hb to server 2 done
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.01615ms
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 0 and rf.status = 2
server 1 term 1 send hb to server 2 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
server 0 term 1 receive hb
server 2 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.367734ms
server 1 term 1 send hb to server 0 done
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.33136ms
server 1 term 1 send hb to server 2 done
server 1 term 1 send hb to server 0 and rf.status = 2
server 1 term 1 send hb to server 2 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 864.267µs
server 1 term 1 send hb to server 0 done
server 2 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.049323ms
server 1 term 1 send hb to server 2 done
server 1 term 1 send hb to server 0 and rf.status = 2
server 1 term 1 send hb to server 2 and rf.status = 2
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 2 term 1 receive hb
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.157735ms
server 1 term 1 send hb to server 2 done
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.297112ms
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 2 and rf.status = 2
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 804.389µs
server 1 term 1 send hb to server 0 done
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.05013ms
server 1 term 1 send hb to server 2 done
server 2 term 1 receive hb
server 1 term 1 send hb to server 0 and rf.status = 2
server 1 term 1 send hb to server 2 and rf.status = 2
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 846.394µs
server 1 term 1 send hb to server 2 done
server 2 term 1 receive hb
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.07043ms
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 2 and rf.status = 2
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 963.127µs
server 1 term 1 send hb to server 0 done
server 2 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.441843ms
server 1 term 1 send hb to server 2 done
server 1 term 1 send hb to server 2 and rf.status = 2
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
[heartBeat: server 0 term 1 receive hb] chan sending
server 2 term 1 receive hb
server 0 become a follower
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 898.145µs
server 1 term 1 send hb to server 2 done
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.079515ms
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 0 and rf.status = 2
server 1 term 1 send hb to server 2 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
server 2 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.267112ms
server 1 term 1 send hb to server 0 done
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.164487ms
server 1 term 1 send hb to server 2 done
server 1 term 1 send hb to server 2 and rf.status = 2
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
server 2 term 1 receive hb
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.083795ms
server 1 term 1 send hb to server 2 done
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.175411ms
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 2 and rf.status = 2
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
server 2 term 1 receive hb
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 984.17µs
server 1 term 1 send hb to server 2 done
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.049564ms
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 2 and rf.status = 2
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
server 2 term 1 receive hb
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 925.493µs
server 1 term 1 send hb to server 2 done
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 962.47µs
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 2 and rf.status = 2
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
server 2 term 1 receive hb
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 858.802µs
server 1 term 1 send hb to server 2 done
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.034478ms
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 2 and rf.status = 2
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 2 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.176425ms
server 1 term 1 send hb to server 2 done
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.316671ms
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 2 and rf.status = 2
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
server 2 term 1 receive hb
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.104404ms
server 1 term 1 send hb to server 2 done
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.185186ms
server 1 term 1 send hb to server 0 done
[CheckOneLeader] server 0 is not leader
[CheckOneLeader] server 1 is leader
[CheckOneLeader] server 2 is not leader
leader is 1 
leader is going to disconnect!!!
leader is disconnected!!!
server 1 term 1 send hb to server 2 and rf.status = 2
server 1 term 1 send hb to server 0 and rf.status = 2
server 2 term 1 not receive hb
server 2 term 2 votefor wait 215ms time
server 2 send vote request to server 0
server 2 send vote request to server 1
server 2 send vote request to server 2
[get vote success] server 2 request with LastLogIndex = -1
[get vote success] server 2 request with LastLogIndex = -1
[back to follower] server 0
OK1?????? from server 2 to server 2 : true
server 2 send vote request to server 2 done
<sendRequestVote Successed> took 1.04367ms
server 2 get vote from server 2 with rf.term = 2, reply.term = 2
server 2 votenum = 1
OK1?????? from server 2 to server 0 : true
server 2 send vote request to server 0 done
<sendRequestVote Successed> took 1.433701ms
server 2 get vote from server 0 with rf.term = 2, reply.term = 1
server 2 votenum = 2
server 2 term 2 become leader with vote num = 2
server 0 term 2 not receive hb
server 0 term 3 votefor wait 228ms time
server 0 send vote request to server 2
server 0 send vote request to server 0
server 0 send vote request to server 1
[get vote success] server 0 request with LastLogIndex = -1
[back to follower] server 2
[get vote success] server 0 request with LastLogIndex = -1
OK1?????? from server 0 to server 2 : true
server 0 send vote request to server 2 done
<sendRequestVote Successed> took 961.845µs
server 0 get vote from server 2 with rf.term = 3, reply.term = 2
server 0 votenum = 1
OK1?????? from server 0 to server 0 : true
server 0 send vote request to server 0 done
<sendRequestVote Successed> took 1.074891ms
server 0 get vote from server 0 with rf.term = 3, reply.term = 3
server 0 votenum = 2
server 0 term 3 become leader with vote num = 2
[CheckOneLeader] server 0 is leader
[CheckOneLeader] server 2 is not leader
[STEP 1]
recover disconnected leader 1 but now may not be a leader
server 1 disconnected last 500.313881ms time[CheckOneLeader] server 0 is leader
[CheckOneLeader] server 1 is leader
[CheckOneLeader] server 2 is not leader
[STEP 2]
0 1 have been disconnected
OK1?????? from server 2 to server 1 : false
server 2 send vote request to server 1 done
<sendRequestVote Failed> took 1.793751489s
server 2 term 3 not receive hb
server 2 term 4 votefor wait 185ms time
server 2 send vote request to server 2
server 2 send vote request to server 1
server 2 send vote request to server 0
[get vote success] server 2 request with LastLogIndex = -1
OK1?????? from server 2 to server 2 : true
server 2 send vote request to server 2 done
<sendRequestVote Successed> took 1.04307ms
server 2 get vote from server 2 with rf.term = 4, reply.term = 4
server 2 votenum = 1
OK1?????? from server 0 to server 1 : false
server 0 send vote request to server 1 done
<sendRequestVote Failed> took 2.063785749s
first heartBeat to 1
server 0 term 3 send hb to server 1 and rf.status = 2
first heartBeat to 2
server 0 term 3 send hb to server 2 and rf.status = 2
[heartBeat failed from 1 to 1] <sendAppendEntries Failed> took 2.393301524s
server 1 term 1 send hb to server 0 and rf.status = 2
[STEP 3]
[STEP 3] recover server 1
[CheckOneLeader] server 1 is leader
[CheckOneLeader] server 2 is not leader
[STEP 4]
OK1?????? from server 2 to server 1 : false
server 2 send vote request to server 1 done
<sendRequestVote Failed> took 1.330391037s
[CheckOneLeader] server 0 is leader
[CheckOneLeader] server 1 is leader
[CheckOneLeader] server 2 is not leader
  ... Passed
PASS
ok  	raft	4.508s
