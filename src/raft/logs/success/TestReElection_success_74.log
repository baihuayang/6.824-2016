Test: election after network failure ...
server 1 term 0 not receive hb
server 1 term 1 votefor wait 201ms time
server 1 send vote request to server 2
server 1 send vote request to server 0
server 1 send vote request to server 1
[get vote success] server 1 request with LastLogIndex = -1
[back to follower] server 2
[get vote success] server 1 request with LastLogIndex = -1
OK1?????? from server 1 to server 2 : true
server 1 send vote request to server 2 done
<sendRequestVote Successed> took 1.993076ms
server 1 get vote from server 2 with rf.term = 1, reply.term = 0
server 1 votenum = 1
[get vote success] server 1 request with LastLogIndex = -1
[back to follower] server 0
OK1?????? from server 1 to server 1 : true
server 1 send vote request to server 1 done
<sendRequestVote Successed> took 2.090673ms
server 1 get vote from server 1 with rf.term = 1, reply.term = 1
server 1 votenum = 2
server 1 term 1 become leader with vote num = 2
OK1?????? from server 1 to server 0 : true
server 1 send vote request to server 0 done
<sendRequestVote Successed> took 2.347629ms
server 1 get vote from server 0 with rf.term = 1, reply.term = 0
server 1 votenum = 3
server 1 term 1 become leader with vote num = 3
first heartBeat to 2
server 1 term 1 send hb to server 2 and rf.status = 2
first heartBeat to 0
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
server 2 term 1 receive hb
[heartBeat: server 0 term 1 receive hb] chan sending
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.066047ms
server 1 term 1 send hb to server 2 done
server 0 become a follower
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.28366ms
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 0 and rf.status = 2
server 1 term 1 send hb to server 2 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.340306ms
server 1 term 1 send hb to server 0 done
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.310098ms
server 1 term 1 send hb to server 2 done
server 2 term 1 receive hb
server 1 term 1 send hb to server 2 and rf.status = 2
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.2353ms
server 1 term 1 send hb to server 2 done
server 2 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.264956ms
server 1 term 1 send hb to server 0 done
server 0 term 1 receive hb
server 1 term 1 send hb to server 0 and rf.status = 2
server 1 term 1 send hb to server 2 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.233577ms
server 1 term 1 send hb to server 0 done
server 0 term 1 receive hb
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
server 2 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.675314ms
server 1 term 1 send hb to server 2 done
server 1 term 1 send hb to server 2 and rf.status = 2
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
server 2 term 1 receive hb
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.049935ms
server 1 term 1 send hb to server 2 done
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.058892ms
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 0 and rf.status = 2
server 1 term 1 send hb to server 2 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 941.118µs
server 1 term 1 send hb to server 0 done
server 0 term 1 receive hb
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
server 2 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.130466ms
server 1 term 1 send hb to server 2 done
server 1 term 1 send hb to server 0 and rf.status = 2
server 1 term 1 send hb to server 2 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
server 2 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.213754ms
server 1 term 1 send hb to server 0 done
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.241337ms
server 1 term 1 send hb to server 2 done
server 1 term 1 send hb to server 2 and rf.status = 2
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
server 2 term 1 receive hb
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 869.206µs
server 1 term 1 send hb to server 2 done
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.061645ms
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 2 and rf.status = 2
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 2 term 1 receive hb
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.183931ms
server 1 term 1 send hb to server 2 done
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.066737ms
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 0 and rf.status = 2
server 1 term 1 send hb to server 2 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
[heartBeat: server 2 term 1 receive hb] chan sending
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 821.811µs
server 1 term 1 send hb to server 0 done
server 2 term 1 receive hb
server 0 term 1 receive hb
server 2 become a follower
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.278762ms
server 1 term 1 send hb to server 2 done
server 1 term 1 send hb to server 2 and rf.status = 2
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
server 2 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.242587ms
server 1 term 1 send hb to server 0 done
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.519455ms
server 1 term 1 send hb to server 2 done
server 1 term 1 send hb to server 2 and rf.status = 2
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 814.908µs
server 1 term 1 send hb to server 2 done
server 2 term 1 receive hb
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.569621ms
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 0 and rf.status = 2
server 1 term 1 send hb to server 2 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 843.903µs
server 1 term 1 send hb to server 0 done
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
server 2 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.185371ms
server 1 term 1 send hb to server 2 done
server 1 term 1 send hb to server 2 and rf.status = 2
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
server 2 term 1 receive hb
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.032973ms
server 1 term 1 send hb to server 2 done
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.332201ms
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 2 and rf.status = 2
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
server 2 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 837.944µs
server 1 term 1 send hb to server 2 done
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.059409ms
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 2 and rf.status = 2
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
server 2 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.142768ms
server 1 term 1 send hb to server 0 done
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.273179ms
server 1 term 1 send hb to server 2 done
server 1 term 1 send hb to server 0 and rf.status = 2
server 1 term 1 send hb to server 2 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
server 2 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.071029ms
server 1 term 1 send hb to server 0 done
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.028878ms
server 1 term 1 send hb to server 2 done
server 1 term 1 send hb to server 0 and rf.status = 2
server 1 term 1 send hb to server 2 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
server 2 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 726.283µs
server 1 term 1 send hb to server 0 done
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 922.628µs
server 1 term 1 send hb to server 2 done
server 1 term 1 send hb to server 2 and rf.status = 2
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
server 2 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 673.27µs
server 1 term 1 send hb to server 2 done
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 890.848µs
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 2 and rf.status = 2
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 2 term 1 receive hb
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 822.925µs
server 1 term 1 send hb to server 2 done
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 914.561µs
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 2 and rf.status = 2
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
server 2 term 1 receive hb
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 756.964µs
server 1 term 1 send hb to server 2 done
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 832.996µs
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 2 and rf.status = 2
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
server 2 term 1 receive hb
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 796.087µs
server 1 term 1 send hb to server 2 done
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 916.135µs
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 0 and rf.status = 2
server 1 term 1 send hb to server 2 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
server 0 term 1 receive hb
server 2 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 758.603µs
server 1 term 1 send hb to server 0 done
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 768.154µs
server 1 term 1 send hb to server 2 done
server 1 term 1 send hb to server 0 and rf.status = 2
server 1 term 1 send hb to server 2 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
server 0 term 1 receive hb
server 2 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 836.484µs
server 1 term 1 send hb to server 0 done
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 995.511µs
server 1 term 1 send hb to server 2 done
server 1 term 1 send hb to server 2 and rf.status = 2
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 2 term 1 receive hb
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.155955ms
server 1 term 1 send hb to server 2 done
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.104836ms
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 2 and rf.status = 2
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
server 0 term 1 receive hb
server 2 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.074737ms
server 1 term 1 send hb to server 2 done
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.041261ms
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 0 and rf.status = 2
server 1 term 1 send hb to server 2 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
server 0 term 1 receive hb
server 2 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 955.445µs
server 1 term 1 send hb to server 2 done
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 935.827µs
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 2 and rf.status = 2
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 become a follower
server 2 term 1 receive hb
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 954.473µs
server 1 term 1 send hb to server 2 done
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.048605ms
server 1 term 1 send hb to server 0 done
[CheckOneLeader] server 0 is not leader
[CheckOneLeader] server 1 is leader
[CheckOneLeader] server 2 is not leader
leader is 1 
leader is going to disconnect!!!
leader is disconnected!!!
server 1 term 1 send hb to server 2 and rf.status = 2
server 1 term 1 send hb to server 0 and rf.status = 2
server 2 term 1 not receive hb
server 2 term 2 votefor wait 174ms time
server 2 send vote request to server 2
server 2 send vote request to server 0
server 2 send vote request to server 1
[get vote success] server 2 request with LastLogIndex = -1
[get vote success] server 2 request with LastLogIndex = -1
[back to follower] server 0
OK1?????? from server 2 to server 2 : true
server 2 send vote request to server 2 done
<sendRequestVote Successed> took 1.136143ms
server 2 get vote from server 2 with rf.term = 2, reply.term = 2
server 2 votenum = 1
OK1?????? from server 2 to server 0 : true
server 2 send vote request to server 0 done
<sendRequestVote Successed> took 1.325859ms
server 2 get vote from server 0 with rf.term = 2, reply.term = 1
server 2 votenum = 2
server 2 term 2 become leader with vote num = 2
server 0 term 2 not receive hb
server 0 term 3 votefor wait 254ms time
server 0 send vote request to server 2
server 0 send vote request to server 1
server 0 send vote request to server 0
[get vote success] server 0 request with LastLogIndex = -1
OK1?????? from server 0 to server 0 : true
server 0 send vote request to server 0 done
<sendRequestVote Successed> took 1.017093ms
server 0 get vote from server 0 with rf.term = 3, reply.term = 3
server 0 votenum = 1
[get vote success] server 0 request with LastLogIndex = -1
[back to follower] server 2
OK1?????? from server 0 to server 2 : true
server 0 send vote request to server 2 done
<sendRequestVote Successed> took 1.601332ms
server 0 get vote from server 2 with rf.term = 3, reply.term = 2
server 0 votenum = 2
server 0 term 3 become leader with vote num = 2
[CheckOneLeader] server 0 is leader
[CheckOneLeader] server 2 is not leader
[STEP 1]
recover disconnected leader 1 but now may not be a leader
server 1 disconnected last 500.43757ms time[CheckOneLeader] server 0 is leader
[CheckOneLeader] server 1 is leader
[CheckOneLeader] server 2 is not leader
[STEP 2]
0 1 have been disconnected
OK1?????? from server 0 to server 1 : false
server 0 send vote request to server 1 done
<sendRequestVote Failed> took 2.229713835s
first heartBeat to 2
server 0 term 3 send hb to server 2 and rf.status = 2
first heartBeat to 1
server 0 term 3 send hb to server 1 and rf.status = 2
[heartBeat failed from 1 to 1] <sendAppendEntries Failed> took 2.67433179s
server 1 term 1 send hb to server 2 and rf.status = 2
[STEP 3]
[STEP 3] recover server 1
[CheckOneLeader] server 1 is leader
[CheckOneLeader] server 2 is not leader
[STEP 4]
[CheckOneLeader] server 0 is leader
[CheckOneLeader] server 1 is leader
[CheckOneLeader] server 2 is not leader
  ... Passed
PASS
ok  	raft	4.507s
