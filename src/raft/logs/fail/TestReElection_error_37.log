Test: election after network failure ...
server 1 term 0 not receive hb
server 1 term 1 votefor wait 261ms time
server 1 send vote request to server 0
server 1 send vote request to server 1
server 1 send vote request to server 2
[get vote success] server 1 request with LastLogIndex = -1
[back to follower] server 0
OK1?????? from server 1 to server 0 : true
server 1 send vote request to server 0 done
<sendRequestVote Successed> took 1.370055ms
server 1 get vote from server 0 with rf.term = 1, reply.term = 0
server 1 votenum = 1
[get vote success] server 1 request with LastLogIndex = -1
[get vote success] server 1 request with LastLogIndex = -1
[back to follower] server 2
OK1?????? from server 1 to server 1 : true
server 1 send vote request to server 1 done
<sendRequestVote Successed> took 2.59219ms
server 1 get vote from server 1 with rf.term = 1, reply.term = 1
server 1 votenum = 2
server 1 term 1 become leader with vote num = 2
OK1?????? from server 1 to server 2 : true
server 1 send vote request to server 2 done
<sendRequestVote Successed> took 2.46799ms
server 1 get vote from server 2 with rf.term = 1, reply.term = 0
server 1 votenum = 3
server 1 term 1 become leader with vote num = 3
first heartBeat to 2
server 1 term 1 send hb to server 2 and rf.status = 2
first heartBeat to 0
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
[heartBeat: server 2 term 1 receive hb] chan sending
server 2 term 1 not receive hb
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.281853ms
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 877.292µs
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 979.604µs
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.091854ms
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 855.855µs
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 809.477µs
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 966.569µs
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 997.461µs
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 686.724µs
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 898.367µs
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.606558ms
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.320677ms
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 928.162µs
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.033013ms
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.255637ms
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.005131ms
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 993.559µs
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 897.997µs
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 743.808µs
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 864.845µs
server 1 term 1 send hb to server 0 done
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 775.055µs
server 1 term 1 send hb to server 0 done
server 0 term 1 receive hb
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat: server 0 term 1 receive hb] chan sending
server 0 become a follower
server 0 term 1 receive hb
[heartBeat success from 1 to 1] <sendAppendEntries Failed> took 1.051688ms
server 1 term 1 send hb to server 0 done
[CheckOneLeader] server 0 is not leader
[CheckOneLeader] server 1 is leader
[CheckOneLeader] server 2 is not leader
leader is 1 
leader is going to disconnect!!!
leader is disconnected!!!
server 1 term 1 send hb to server 0 and rf.status = 2
[heartBeat failed from 1 to 1] <sendAppendEntries Failed> took 301.537876ms
server 1 term 1 send hb to server 2 and rf.status = 2
server 0 term 1 not receive hb
server 0 term 2 votefor wait 269ms time
server 0 send vote request to server 2
server 0 send vote request to server 0
server 0 send vote request to server 1
[get vote success] server 0 request with LastLogIndex = -1
OK1?????? from server 0 to server 0 : true
server 0 send vote request to server 0 done
<sendRequestVote Successed> took 1.178107ms
server 0 get vote from server 0 with rf.term = 2, reply.term = 2
server 0 votenum = 1
[CheckOneLeader] server 0 is not leader
[CheckOneLeader] server 2 is not leader
[CheckOneLeader] server 0 is not leader
[CheckOneLeader] server 2 is not leader
[CheckOneLeader] server 0 is not leader
[CheckOneLeader] server 2 is not leader
[CheckOneLeader] server 0 is not leader
[CheckOneLeader] server 2 is not leader
[CheckOneLeader] server 0 is not leader
[CheckOneLeader] server 2 is not leader
[CheckOneLeader] server 0 is not leader
[CheckOneLeader] server 2 is not leader
[CheckOneLeader] server 0 is not leader
[CheckOneLeader] server 2 is not leader
[CheckOneLeader] server 0 is not leader
[CheckOneLeader] server 2 is not leader
[heartBeat failed from 1 to 1] <sendAppendEntries Failed> took 4.116444783s
server 1 term 1 send hb to server 2 and rf.status = 2
[CheckOneLeader] server 0 is not leader
[CheckOneLeader] server 2 is not leader
[CheckOneLeader] server 0 is not leader
[CheckOneLeader] server 2 is not leader
--- FAIL: TestReElection (5.50s)
    config.go:289: expected one leader, got none
FAIL
exit status 1
FAIL	raft	5.509s
