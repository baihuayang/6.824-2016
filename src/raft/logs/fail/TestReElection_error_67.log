Test: election after network failure ...
server 0 term 0 not receive hb
server 0 term 1 votefor wait 199ms time
server 0 send vote request to server 2
server 0 send vote request to server 0
server 0 send vote request to server 1
[get vote success] server 0 request with LastLogIndex = -1
[back to follower] server 2
server 2 term 1 not receive hb
[get vote success] server 0 request with LastLogIndex = -1
[back to follower] server 1
server 2 term 2 votefor wait 201ms time
server 2 send vote request to server 2
OK1?????? from server 0 to server 2 : true
OK1?????? from server 0 to server 1 : true
server 0 send vote request to server 1 done
<sendRequestVote Successed> took 1.574036ms
server 2 send vote request to server 0
server 2 send vote request to server 1
server 0 get vote from server 1 with rf.term = 1, reply.term = 0
server 0 votenum = 1
[get vote success] server 0 request with LastLogIndex = -1
[get vote success] server 2 request with LastLogIndex = -1
[get vote success] server 2 request with LastLogIndex = -1
[back to follower] server 0
[get vote success] server 2 request with LastLogIndex = -1
[back to follower] server 1
OK1?????? from server 2 to server 2 : true
server 2 send vote request to server 2 done
<sendRequestVote Successed> took 1.25431ms
OK1?????? from server 0 to server 0 : true
OK1?????? from server 2 to server 0 : true
OK1?????? from server 2 to server 1 : true
server 0 send vote request to server 0 done
<sendRequestVote Successed> took 2.856742ms
server 0 get vote from server 0 with rf.term = 2, reply.term = 1
server 0 votenum = 2
server 0 term 2 become leader with vote num = 2
server 2 send vote request to server 1 done
<sendRequestVote Successed> took 1.136655ms
server 2 send vote request to server 0 done
<sendRequestVote Successed> took 1.264207ms
server 2 get vote from server 2 with rf.term = 2, reply.term = 2
server 0 send vote request to server 2 done
<sendRequestVote Successed> took 3.395027ms
server 0 get vote from server 2 with rf.term = 2, reply.term = 0
server 0 votenum = 3
server 0 term 2 become leader with vote num = 3
server 2 votenum = 1
server 2 get vote from server 1 with rf.term = 2, reply.term = 1
server 2 votenum = 2
server 2 term 2 become leader with vote num = 2
server 2 get vote from server 0 with rf.term = 2, reply.term = 1
server 2 votenum = 3
server 2 term 2 become leader with vote num = 3
server 2 term 2 send hb to server 0 and rf.status = 2
server 0 term 2 send hb to server 1 and rf.status = 2
server 2 term 2 send hb to server 1 and rf.status = 2
server 0 term 2 send hb to server 2 and rf.status = 2
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
server 1 term 2 receive hb
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
server 1 term 2 receive hb
[heartBeat: server 0 term 2 receive hb] chan sending
[heartBeat: server 2 term 2 receive hb] chan sending
<sendAppendEntries Success> took 1.752081ms
server 0 term 2 send hb to server 1 done
<sendAppendEntries Success> took 1.7925ms
server 2 term 2 send hb to server 1 done
server 2 term 2 send hb to server 0 and rf.status = 2
server 2 term 2 send hb to server 1 and rf.status = 2
server 0 term 2 send hb to server 2 and rf.status = 2
server 0 term 2 send hb to server 1 and rf.status = 2
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
server 1 term 2 receive hb
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
server 1 term 2 receive hb
<sendAppendEntries Success> took 1.223291ms
server 2 term 2 send hb to server 1 done
<sendAppendEntries Success> took 1.196024ms
server 0 term 2 send hb to server 1 done
server 2 term 2 send hb to server 0 and rf.status = 2
server 2 term 2 send hb to server 1 and rf.status = 2
server 0 term 2 send hb to server 2 and rf.status = 2
server 0 term 2 send hb to server 1 and rf.status = 2
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
server 1 term 2 receive hb
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
server 1 term 2 receive hb
<sendAppendEntries Success> took 1.022928ms
server 2 term 2 send hb to server 1 done
<sendAppendEntries Success> took 998.676µs
server 0 term 2 send hb to server 1 done
server 0 term 2 send hb to server 2 and rf.status = 2
server 0 term 2 send hb to server 1 and rf.status = 2
server 2 term 2 send hb to server 0 and rf.status = 2
server 2 term 2 send hb to server 1 and rf.status = 2
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 term 2 receive hb
server 1 term 2 receive hb
server 1 become a follower
<sendAppendEntries Success> took 1.171336ms
server 0 term 2 send hb to server 1 done
<sendAppendEntries Success> took 1.351225ms
server 2 term 2 send hb to server 1 done
server 0 term 2 send hb to server 2 and rf.status = 2
server 2 term 2 send hb to server 1 and rf.status = 2
server 0 term 2 send hb to server 1 and rf.status = 2
server 2 term 2 send hb to server 0 and rf.status = 2
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
server 1 term 2 receive hb
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 term 2 receive hb
server 1 become a follower
<sendAppendEntries Success> took 1.159483ms
server 0 term 2 send hb to server 1 done
<sendAppendEntries Success> took 1.464071ms
server 2 term 2 send hb to server 1 done
server 0 term 2 send hb to server 1 and rf.status = 2
server 2 term 2 send hb to server 0 and rf.status = 2
server 0 term 2 send hb to server 2 and rf.status = 2
server 2 term 2 send hb to server 1 and rf.status = 2
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
server 1 term 2 receive hb
<sendAppendEntries Success> took 1.185997ms
server 0 term 2 send hb to server 1 done
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
server 1 term 2 receive hb
<sendAppendEntries Success> took 1.463628ms
server 2 term 2 send hb to server 1 done
server 2 term 2 send hb to server 0 and rf.status = 2
server 0 term 2 send hb to server 2 and rf.status = 2
server 2 term 2 send hb to server 1 and rf.status = 2
server 0 term 2 send hb to server 1 and rf.status = 2
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
server 1 term 2 receive hb
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
server 1 term 2 receive hb
<sendAppendEntries Success> took 1.095808ms
server 2 term 2 send hb to server 1 done
<sendAppendEntries Success> took 1.122859ms
server 0 term 2 send hb to server 1 done
server 2 term 2 send hb to server 0 and rf.status = 2
server 0 term 2 send hb to server 2 and rf.status = 2
server 2 term 2 send hb to server 1 and rf.status = 2
server 0 term 2 send hb to server 1 and rf.status = 2
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
server 1 term 2 receive hb
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
server 1 term 2 receive hb
<sendAppendEntries Success> took 1.519131ms
server 2 term 2 send hb to server 1 done
<sendAppendEntries Success> took 1.060271ms
server 0 term 2 send hb to server 1 done
server 2 term 2 send hb to server 0 and rf.status = 2
server 2 term 2 send hb to server 1 and rf.status = 2
server 0 term 2 send hb to server 2 and rf.status = 2
server 0 term 2 send hb to server 1 and rf.status = 2
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
server 1 term 2 receive hb
[heartBeat: server 1 term 2 receive hb] chan sending
<sendAppendEntries Success> took 1.01606ms
server 0 term 2 send hb to server 1 done
server 1 term 2 receive hb
server 1 become a follower
<sendAppendEntries Success> took 1.654327ms
server 2 term 2 send hb to server 1 done
server 0 term 2 send hb to server 2 and rf.status = 2
server 2 term 2 send hb to server 0 and rf.status = 2
server 0 term 2 send hb to server 1 and rf.status = 2
server 2 term 2 send hb to server 1 and rf.status = 2
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 term 2 receive hb
server 1 term 2 receive hb
server 1 become a follower
<sendAppendEntries Success> took 977.54µs
server 2 term 2 send hb to server 1 done
<sendAppendEntries Success> took 1.414614ms
server 0 term 2 send hb to server 1 done
server 2 term 2 send hb to server 0 and rf.status = 2
server 0 term 2 send hb to server 1 and rf.status = 2
server 0 term 2 send hb to server 2 and rf.status = 2
server 2 term 2 send hb to server 1 and rf.status = 2
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
server 1 term 2 receive hb
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
<sendAppendEntries Success> took 1.059752ms
server 0 term 2 send hb to server 1 done
server 1 term 2 receive hb
<sendAppendEntries Success> took 1.26741ms
server 2 term 2 send hb to server 1 done
server 0 term 2 send hb to server 2 and rf.status = 2
server 2 term 2 send hb to server 0 and rf.status = 2
server 2 term 2 send hb to server 1 and rf.status = 2
server 0 term 2 send hb to server 1 and rf.status = 2
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
server 1 term 2 receive hb
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
server 1 term 2 receive hb
<sendAppendEntries Success> took 1.225606ms
server 2 term 2 send hb to server 1 done
<sendAppendEntries Success> took 1.224024ms
server 0 term 2 send hb to server 1 done
server 2 term 2 send hb to server 1 and rf.status = 2
server 2 term 2 send hb to server 0 and rf.status = 2
server 0 term 2 send hb to server 2 and rf.status = 2
server 0 term 2 send hb to server 1 and rf.status = 2
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
server 1 term 2 receive hb
<sendAppendEntries Success> took 1.051793ms
server 2 term 2 send hb to server 1 done
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
server 1 term 2 receive hb
<sendAppendEntries Success> took 1.069947ms
server 0 term 2 send hb to server 1 done
server 0 term 2 send hb to server 2 and rf.status = 2
server 2 term 2 send hb to server 0 and rf.status = 2
server 0 term 2 send hb to server 1 and rf.status = 2
server 2 term 2 send hb to server 1 and rf.status = 2
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 term 2 receive hb
server 1 term 2 receive hb
server 1 become a follower
<sendAppendEntries Success> took 1.079392ms
server 2 term 2 send hb to server 1 done
<sendAppendEntries Success> took 1.478438ms
server 0 term 2 send hb to server 1 done
server 0 term 2 send hb to server 2 and rf.status = 2
server 2 term 2 send hb to server 1 and rf.status = 2
server 0 term 2 send hb to server 1 and rf.status = 2
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
server 2 term 2 send hb to server 0 and rf.status = 2
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 term 2 receive hb
server 1 term 2 receive hb
server 1 become a follower
<sendAppendEntries Success> took 1.117348ms
server 2 term 2 send hb to server 1 done
<sendAppendEntries Success> took 1.343476ms
server 0 term 2 send hb to server 1 done
server 2 term 2 send hb to server 0 and rf.status = 2
server 0 term 2 send hb to server 2 and rf.status = 2
server 0 term 2 send hb to server 1 and rf.status = 2
server 2 term 2 send hb to server 1 and rf.status = 2
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
server 1 term 2 receive hb
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
server 1 term 2 receive hb
<sendAppendEntries Success> took 1.257702ms
server 0 term 2 send hb to server 1 done
<sendAppendEntries Success> took 1.323501ms
server 2 term 2 send hb to server 1 done
server 2 term 2 send hb to server 0 and rf.status = 2
server 2 term 2 send hb to server 1 and rf.status = 2
server 0 term 2 send hb to server 1 and rf.status = 2
server 0 term 2 send hb to server 2 and rf.status = 2
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 term 2 receive hb
server 1 term 2 receive hb
server 1 become a follower
<sendAppendEntries Success> took 1.174583ms
server 2 term 2 send hb to server 1 done
<sendAppendEntries Success> took 1.360259ms
server 0 term 2 send hb to server 1 done
server 2 term 2 send hb to server 0 and rf.status = 2
server 2 term 2 send hb to server 1 and rf.status = 2
server 0 term 2 send hb to server 2 and rf.status = 2
server 0 term 2 send hb to server 1 and rf.status = 2
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
server 1 term 2 receive hb
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
server 1 term 2 receive hb
<sendAppendEntries Success> took 1.123615ms
server 2 term 2 send hb to server 1 done
<sendAppendEntries Success> took 1.043247ms
server 0 term 2 send hb to server 1 done
server 2 term 2 send hb to server 0 and rf.status = 2
server 2 term 2 send hb to server 1 and rf.status = 2
server 0 term 2 send hb to server 1 and rf.status = 2
server 0 term 2 send hb to server 2 and rf.status = 2
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
server 1 term 2 receive hb
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
server 1 term 2 receive hb
<sendAppendEntries Success> took 1.350598ms
server 2 term 2 send hb to server 1 done
<sendAppendEntries Success> took 1.449243ms
server 0 term 2 send hb to server 1 done
server 2 term 2 send hb to server 1 and rf.status = 2
server 0 term 2 send hb to server 2 and rf.status = 2
server 2 term 2 send hb to server 0 and rf.status = 2
server 0 term 2 send hb to server 1 and rf.status = 2
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
server 1 term 2 receive hb
<sendAppendEntries Success> took 914.05µs
server 2 term 2 send hb to server 1 done
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
server 1 term 2 receive hb
<sendAppendEntries Success> took 966.243µs
server 0 term 2 send hb to server 1 done
server 0 term 2 send hb to server 2 and rf.status = 2
server 2 term 2 send hb to server 1 and rf.status = 2
server 0 term 2 send hb to server 1 and rf.status = 2
server 2 term 2 send hb to server 0 and rf.status = 2
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 term 2 receive hb
server 1 term 2 receive hb
server 1 become a follower
<sendAppendEntries Success> took 1.126096ms
server 2 term 2 send hb to server 1 done
<sendAppendEntries Success> took 1.278956ms
server 0 term 2 send hb to server 1 done
server 2 term 2 send hb to server 0 and rf.status = 2
server 0 term 2 send hb to server 2 and rf.status = 2
server 2 term 2 send hb to server 1 and rf.status = 2
server 0 term 2 send hb to server 1 and rf.status = 2
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
server 1 term 2 receive hb
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 term 2 receive hb
server 1 become a follower
<sendAppendEntries Success> took 1.030651ms
server 2 term 2 send hb to server 1 done
<sendAppendEntries Success> took 1.062824ms
server 0 term 2 send hb to server 1 done
server 2 term 2 send hb to server 0 and rf.status = 2
server 2 term 2 send hb to server 1 and rf.status = 2
server 0 term 2 send hb to server 2 and rf.status = 2
server 0 term 2 send hb to server 1 and rf.status = 2
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
server 1 term 2 receive hb
<sendAppendEntries Success> took 1.010604ms
server 2 term 2 send hb to server 1 done
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
server 1 term 2 receive hb
<sendAppendEntries Success> took 1.476724ms
server 0 term 2 send hb to server 1 done
server 2 term 2 send hb to server 1 and rf.status = 2
server 0 term 2 send hb to server 2 and rf.status = 2
server 2 term 2 send hb to server 0 and rf.status = 2
server 0 term 2 send hb to server 1 and rf.status = 2
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
server 1 term 2 receive hb
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
<sendAppendEntries Success> took 1.236297ms
server 2 term 2 send hb to server 1 done
server 1 term 2 receive hb
<sendAppendEntries Success> took 1.061995ms
server 0 term 2 send hb to server 1 done
server 0 term 2 send hb to server 2 and rf.status = 2
server 2 term 2 send hb to server 1 and rf.status = 2
server 2 term 2 send hb to server 0 and rf.status = 2
server 0 term 2 send hb to server 1 and rf.status = 2
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
server 1 term 2 receive hb
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
<sendAppendEntries Success> took 1.128528ms
server 2 term 2 send hb to server 1 done
server 1 term 2 receive hb
<sendAppendEntries Success> took 1.272503ms
server 0 term 2 send hb to server 1 done
server 2 term 2 send hb to server 0 and rf.status = 2
server 0 term 2 send hb to server 1 and rf.status = 2
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
server 2 term 2 send hb to server 1 and rf.status = 2
<sendAppendEntries Success> took 1.019402ms
server 0 term 2 send hb to server 1 done
server 0 term 2 send hb to server 2 and rf.status = 2
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 term 2 receive hb
server 1 term 2 receive hb
server 1 become a follower
<sendAppendEntries Success> took 1.133106ms
server 2 term 2 send hb to server 1 done
server 2 term 2 send hb to server 1 and rf.status = 2
server 0 term 2 send hb to server 1 and rf.status = 2
server 2 term 2 send hb to server 0 and rf.status = 2
server 0 term 2 send hb to server 2 and rf.status = 2
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 term 2 receive hb
server 1 term 2 receive hb
server 1 become a follower
<sendAppendEntries Success> took 1.076575ms
server 0 term 2 send hb to server 1 done
<sendAppendEntries Success> took 1.360745ms
server 2 term 2 send hb to server 1 done
server 0 term 2 send hb to server 2 and rf.status = 2
server 2 term 2 send hb to server 1 and rf.status = 2
server 0 term 2 send hb to server 1 and rf.status = 2
server 2 term 2 send hb to server 0 and rf.status = 2
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 term 2 receive hb
server 1 term 2 receive hb
server 1 become a follower
<sendAppendEntries Success> took 1.262104ms
server 2 term 2 send hb to server 1 done
<sendAppendEntries Success> took 1.417418ms
server 0 term 2 send hb to server 1 done
server 0 term 2 send hb to server 2 and rf.status = 2
server 0 term 2 send hb to server 1 and rf.status = 2
server 2 term 2 send hb to server 1 and rf.status = 2
server 2 term 2 send hb to server 0 and rf.status = 2
[CheckOneLeader] server 0 is leader
[CheckOneLeader] server 1 is not leader
[CheckOneLeader] server 2 is leader
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 become a follower
--- FAIL: TestReElection (0.50s)
    config.go:278: term 2 has 2 (>1) leaders
[heartBeat: server 1 term 2 receive hb] chan sending
server 1 term 2 receive hb
FAIL
exit status 1
FAIL	raft	0.504s
